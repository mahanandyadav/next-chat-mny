"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/socket";
exports.ids = ["pages/api/socket"];
exports.modules = {

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "next-connect":
/*!*******************************!*\
  !*** external "next-connect" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("next-connect");;

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("socket.io");;

/***/ }),

/***/ "(api)/./src/pages/api/socket.js":
/*!*********************************!*\
  !*** ./src/pages/api/socket.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/user */ \"(api)/./src/utils/user.js\");\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-connect */ \"next-connect\");\n/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io */ \"socket.io\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([next_connect__WEBPACK_IMPORTED_MODULE_1__, socket_io__WEBPACK_IMPORTED_MODULE_2__]);\n([next_connect__WEBPACK_IMPORTED_MODULE_1__, socket_io__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst handler = (0,next_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    onError: (err, req, res, _next)=>{\n        console.error(err.stack);\n        res.status(500).end(\"Something broke!\");\n    },\n    onNoMatch: (req, res)=>{\n        res.status(404).end(\"Page is not found\");\n    }\n}).use(cors__WEBPACK_IMPORTED_MODULE_3___default()()).get((req, res)=>{\n    if (res.socket.server.io) {\n        console.log(\"Already set up\");\n        res.end();\n        return;\n    }\n    //create server with maxhttpbuffer size of 5mb\n    const io = new socket_io__WEBPACK_IMPORTED_MODULE_2__.Server(res.socket.server, {\n        maxHttpBufferSize: 5e6\n    });\n    res.socket.server.io = io;\n    io.on(\"connection\", (socket)=>{\n        socket.on(\"join-room\", ({ name , room  }, callback)=>{\n            const { user , error  } = (0,_utils_user__WEBPACK_IMPORTED_MODULE_0__.addUser)({\n                id: socket.id,\n                name,\n                room\n            });\n            if (error) {\n                return callback(error);\n            }\n            socket.join(user.room);\n            socket.broadcast.to(user.room).emit(\"receive-message\", {\n                id: socket.id,\n                name: \"admin\",\n                message: `${user.name} has joined the room`\n            });\n            io.to(user.room).emit(\"room-data\", {\n                room: user.room,\n                users: (0,_utils_user__WEBPACK_IMPORTED_MODULE_0__.getUsersInRoom)(user.room)\n            });\n            callback();\n        });\n        socket.on(\"send-message\", (msg)=>{\n            const user = (0,_utils_user__WEBPACK_IMPORTED_MODULE_0__.getUser)(socket.id);\n            console.log(\"Received message\", msg);\n            io.to(user.room).emit(\"receive-message\", msg);\n        });\n        socket.on(\"upload-image\", (data)=>{\n            const user = (0,_utils_user__WEBPACK_IMPORTED_MODULE_0__.getUser)(socket.id);\n            console.log(\"Received image\", data);\n            io.to(user.room).emit(\"receive-message\", data);\n        });\n        socket.on(\"disconnect\", ()=>{\n            const user = (0,_utils_user__WEBPACK_IMPORTED_MODULE_0__.removeUser)(socket.id);\n            if (user) {\n                io.to(user.room).emit(\"receive-message\", {\n                    message: `${user.name} has left the room`,\n                    name: \"admin\"\n                });\n                io.to(user.room).emit(\"room-data\", {\n                    room: user.room,\n                    users: (0,_utils_user__WEBPACK_IMPORTED_MODULE_0__.getUsersInRoom)(user.room)\n                });\n            }\n            console.log(\"User has left\");\n        });\n    });\n    console.log(\"Setting up socket\");\n    res.end();\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU07Z0JBRVI7Z0JBQ0VKLEdBQUdXLEVBQUUsQ0FBQ0osS0FBS0YsSUFBSSxFQUFFTyxJQUFJLENBQUMsYUFBYTtvQkFDL0JQLE1BQU1FLEtBQUtGLElBQUk7b0JBQ2ZTLE9BQU9uQywyREFBY0EsQ0FBQzRCLEtBQUtGLElBQUk7Z0JBQ25DO1lBQ0osQ0FBQztZQUNEZixRQUFRVyxHQUFHLENBQUM7UUFDZDtJQUNGO0lBRUFYLFFBQVFXLEdBQUcsQ0FBQztJQUNaYixJQUFJTSxHQUFHO0FBQ1Q7QUFFRixpRUFBZVYsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtY2hhdC8uL3NyYy9wYWdlcy9hcGkvc29ja2V0LmpzPzJkYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkVXNlciwgZ2V0VXNlciwgZ2V0VXNlcnNJblJvb20sIHJlbW92ZVVzZXIgfSBmcm9tIFwiQC91dGlscy91c2VyXCI7XHJcbmltcG9ydCBuYyBmcm9tIFwibmV4dC1jb25uZWN0XCI7XHJcbmltcG9ydCB7IFNlcnZlciB9IGZyb20gXCJzb2NrZXQuaW9cIjtcclxuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcclxuXHJcbmNvbnN0IGhhbmRsZXIgPSBuYyh7XHJcbiAgb25FcnJvcjogKGVyciwgcmVxLCByZXMsIF9uZXh0KSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVyci5zdGFjayk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuZW5kKFwiU29tZXRoaW5nIGJyb2tlIVwiKTtcclxuICB9LFxyXG4gIG9uTm9NYXRjaDogKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuZW5kKFwiUGFnZSBpcyBub3QgZm91bmRcIik7XHJcbiAgfSxcclxufSlcclxuICAudXNlKGNvcnMoKSlcclxuICAuZ2V0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgaWYgKHJlcy5zb2NrZXQuc2VydmVyLmlvKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBzZXQgdXBcIik7XHJcbiAgICAgIHJlcy5lbmQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY3JlYXRlIHNlcnZlciB3aXRoIG1heGh0dHBidWZmZXIgc2l6ZSBvZiA1bWJcclxuICAgIGNvbnN0IGlvID0gbmV3IFNlcnZlcihyZXMuc29ja2V0LnNlcnZlciwge1xyXG4gICAgICBtYXhIdHRwQnVmZmVyU2l6ZTogNWU2LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVzLnNvY2tldC5zZXJ2ZXIuaW8gPSBpbztcclxuXHJcbiAgICBpby5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xyXG4gICAgICBzb2NrZXQub24oXCJqb2luLXJvb21cIiwgKHsgbmFtZSwgcm9vbSB9LCBjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdXNlciwgZXJyb3IgfSA9IGFkZFVzZXIoeyBpZDogc29ja2V0LmlkLCBuYW1lLCByb29tIH0pO1xyXG5cclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNvY2tldC5qb2luKHVzZXIucm9vbSk7XHJcblxyXG5cclxuICAgICAgICBzb2NrZXQuYnJvYWRjYXN0LnRvKHVzZXIucm9vbSkuZW1pdChcInJlY2VpdmUtbWVzc2FnZVwiLCB7XHJcbiAgICAgICAgICBpZDogc29ja2V0LmlkLFxyXG4gICAgICAgICAgbmFtZTogXCJhZG1pblwiLFxyXG4gICAgICAgICAgbWVzc2FnZTogYCR7dXNlci5uYW1lfSBoYXMgam9pbmVkIHRoZSByb29tYCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW8udG8odXNlci5yb29tKS5lbWl0KFwicm9vbS1kYXRhXCIsIHtcclxuICAgICAgICAgIHJvb206IHVzZXIucm9vbSxcclxuICAgICAgICAgIHVzZXJzOiBnZXRVc2Vyc0luUm9vbSh1c2VyLnJvb20pLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNvY2tldC5vbihcInNlbmQtbWVzc2FnZVwiLCAobXNnKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IGdldFVzZXIoc29ja2V0LmlkKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIG1lc3NhZ2VcIiwgbXNnKTtcclxuICAgICAgICBpby50byh1c2VyLnJvb20pLmVtaXQoXCJyZWNlaXZlLW1lc3NhZ2VcIiwgbXNnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzb2NrZXQub24oJ3VwbG9hZC1pbWFnZScsZGF0YT0+e1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBnZXRVc2VyKHNvY2tldC5pZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIGltYWdlJywgZGF0YSk7XHJcbiAgICAgICAgaW8udG8odXNlci5yb29tKS5lbWl0KCdyZWNlaXZlLW1lc3NhZ2UnLCBkYXRhKTtcclxuICAgICAgfSlcclxuXHJcbiAgICBcclxuXHJcblxyXG4gICAgICBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcclxuICAgICAgICBjb25zdCB1c2VyID0gcmVtb3ZlVXNlcihzb2NrZXQuaWQpO1xyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICBpby50byh1c2VyLnJvb20pLmVtaXQoXCJyZWNlaXZlLW1lc3NhZ2VcIiwge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBgJHt1c2VyLm5hbWV9IGhhcyBsZWZ0IHRoZSByb29tYCxcclxuICAgICAgICAgICAgbmFtZTogXCJhZG1pblwiLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpby50byh1c2VyLnJvb20pLmVtaXQoXCJyb29tLWRhdGFcIiwge1xyXG4gICAgICAgICAgICAgICAgcm9vbTogdXNlci5yb29tLFxyXG4gICAgICAgICAgICAgICAgdXNlcnM6IGdldFVzZXJzSW5Sb29tKHVzZXIucm9vbSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgaGFzIGxlZnRcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJTZXR0aW5nIHVwIHNvY2tldFwiKTtcclxuICAgIHJlcy5lbmQoKTtcclxuICB9KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XHJcbiJdLCJuYW1lcyI6WyJhZGRVc2VyIiwiZ2V0VXNlciIsImdldFVzZXJzSW5Sb29tIiwicmVtb3ZlVXNlciIsIm5jIiwiU2VydmVyIiwiY29ycyIsImhhbmRsZXIiLCJvbkVycm9yIiwiZXJyIiwicmVxIiwicmVzIiwiX25leHQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGFjayIsInN0YXR1cyIsImVuZCIsIm9uTm9NYXRjaCIsInVzZSIsImdldCIsInNvY2tldCIsInNlcnZlciIsImlvIiwibG9nIiwibWF4SHR0cEJ1ZmZlclNpemUiLCJvbiIsIm5hbWUiLCJyb29tIiwiY2FsbGJhY2siLCJ1c2VyIiwiaWQiLCJqb2luIiwiYnJvYWRjYXN0IiwidG8iLCJlbWl0IiwibWVzc2FnZSIsInVzZXJzIiwibXNnIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/socket.js\n");

/***/ }),

/***/ "(api)/./src/utils/user.js":
/*!***************************!*\
  !*** ./src/utils/user.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addUser\": () => (/* binding */ addUser),\n/* harmony export */   \"getUser\": () => (/* binding */ getUser),\n/* harmony export */   \"getUsersInRoom\": () => (/* binding */ getUsersInRoom),\n/* harmony export */   \"removeUser\": () => (/* binding */ removeUser)\n/* harmony export */ });\n// this file is used to store the users in the chat room like database\nconst users = [];\n// addUser, removeUser, getUser, getUsersInRoom\nconst addUser = ({ id , name , room  })=>{\n    name = name.trim().toLowerCase();\n    room = room.trim().toLowerCase();\n    const existingUser = users.find((user)=>user.room === room && user.name === name);\n    if (!name || !room) {\n        return {\n            error: \"Username and room are required\"\n        };\n    }\n    if (existingUser) {\n        return {\n            error: \"Username is taken\"\n        };\n    }\n    const user = {\n        id,\n        name,\n        room\n    };\n    users.push(user);\n    return {\n        user\n    };\n};\nconst removeUser = (id)=>{\n    const index = users.findIndex((user)=>user.id === id);\n    if (index !== -1) {\n        return users.splice(index, 1)[0];\n    }\n};\nconst getUser = (id)=>users.find((user)=>user.id === id);\nconst getUsersInRoom = (room)=>users.filter((user)=>user.room === room);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvdXNlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0VBQXNFO0FBRXRFLE1BQU1BLFFBQVEsRUFBRTtBQUVoQiwrQ0FBK0M7QUFFeEMsTUFBTUMsVUFBVSxDQUFDLEVBQUVDLEdBQUUsRUFBRUMsS0FBSSxFQUFFQyxLQUFJLEVBQUUsR0FBSztJQUM3Q0QsT0FBT0EsS0FBS0UsSUFBSSxHQUFHQyxXQUFXO0lBQzlCRixPQUFPQSxLQUFLQyxJQUFJLEdBQUdDLFdBQVc7SUFFOUIsTUFBTUMsZUFBZVAsTUFBTVEsSUFBSSxDQUM3QixDQUFDQyxPQUFTQSxLQUFLTCxJQUFJLEtBQUtBLFFBQVFLLEtBQUtOLElBQUksS0FBS0E7SUFHaEQsSUFBSSxDQUFDQSxRQUFRLENBQUNDLE1BQU07UUFDbEIsT0FBTztZQUNMTSxPQUFPO1FBQ1Q7SUFDRixDQUFDO0lBRUQsSUFBSUgsY0FBYztRQUNoQixPQUFPO1lBQUVHLE9BQU87UUFBb0I7SUFDdEMsQ0FBQztJQUVELE1BQU1ELE9BQU87UUFBRVA7UUFBSUM7UUFBTUM7SUFBSztJQUU5QkosTUFBTVcsSUFBSSxDQUFDRjtJQUVYLE9BQU87UUFBRUE7SUFBSztBQUNoQixFQUFFO0FBRUssTUFBTUcsYUFBYSxDQUFDVixLQUFPO0lBQ2hDLE1BQU1XLFFBQVFiLE1BQU1jLFNBQVMsQ0FBQyxDQUFDTCxPQUFTQSxLQUFLUCxFQUFFLEtBQUtBO0lBRXBELElBQUlXLFVBQVUsQ0FBQyxHQUFHO1FBQ2hCLE9BQU9iLE1BQU1lLE1BQU0sQ0FBQ0YsT0FBTyxFQUFFLENBQUMsRUFBRTtJQUNsQyxDQUFDO0FBRUgsRUFBRTtBQUVLLE1BQU1HLFVBQVUsQ0FBQ2QsS0FBT0YsTUFBTVEsSUFBSSxDQUFDLENBQUNDLE9BQVNBLEtBQUtQLEVBQUUsS0FBS0EsSUFBSTtBQUU3RCxNQUFNZSxpQkFBaUIsQ0FBQ2IsT0FDN0JKLE1BQU1rQixNQUFNLENBQUMsQ0FBQ1QsT0FBU0EsS0FBS0wsSUFBSSxLQUFLQSxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1jaGF0Ly4vc3JjL3V0aWxzL3VzZXIuanM/NzQzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0aGlzIGZpbGUgaXMgdXNlZCB0byBzdG9yZSB0aGUgdXNlcnMgaW4gdGhlIGNoYXQgcm9vbSBsaWtlIGRhdGFiYXNlXHJcblxyXG5jb25zdCB1c2VycyA9IFtdO1xyXG5cclxuLy8gYWRkVXNlciwgcmVtb3ZlVXNlciwgZ2V0VXNlciwgZ2V0VXNlcnNJblJvb21cclxuXHJcbmV4cG9ydCBjb25zdCBhZGRVc2VyID0gKHsgaWQsIG5hbWUsIHJvb20gfSkgPT4ge1xyXG4gIG5hbWUgPSBuYW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gIHJvb20gPSByb29tLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICBjb25zdCBleGlzdGluZ1VzZXIgPSB1c2Vycy5maW5kKFxyXG4gICAgKHVzZXIpID0+IHVzZXIucm9vbSA9PT0gcm9vbSAmJiB1c2VyLm5hbWUgPT09IG5hbWVcclxuICApO1xyXG5cclxuICBpZiAoIW5hbWUgfHwgIXJvb20pIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGVycm9yOiBcIlVzZXJuYW1lIGFuZCByb29tIGFyZSByZXF1aXJlZFwiLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBcIlVzZXJuYW1lIGlzIHRha2VuXCIgfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHVzZXIgPSB7IGlkLCBuYW1lLCByb29tIH07XHJcblxyXG4gIHVzZXJzLnB1c2godXNlcik7XHJcblxyXG4gIHJldHVybiB7IHVzZXIgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVVc2VyID0gKGlkKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSB1c2Vycy5maW5kSW5kZXgoKHVzZXIpID0+IHVzZXIuaWQgPT09IGlkKTtcclxuXHJcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgcmV0dXJuIHVzZXJzLnNwbGljZShpbmRleCwgMSlbMF07XHJcbiAgfVxyXG4gIFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXIgPSAoaWQpID0+IHVzZXJzLmZpbmQoKHVzZXIpID0+IHVzZXIuaWQgPT09IGlkKTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2Vyc0luUm9vbSA9IChyb29tKSA9PlxyXG4gIHVzZXJzLmZpbHRlcigodXNlcikgPT4gdXNlci5yb29tID09PSByb29tKTtcclxuIl0sIm5hbWVzIjpbInVzZXJzIiwiYWRkVXNlciIsImlkIiwibmFtZSIsInJvb20iLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJleGlzdGluZ1VzZXIiLCJmaW5kIiwidXNlciIsImVycm9yIiwicHVzaCIsInJlbW92ZVVzZXIiLCJpbmRleCIsImZpbmRJbmRleCIsInNwbGljZSIsImdldFVzZXIiLCJnZXRVc2Vyc0luUm9vbSIsImZpbHRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/user.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/socket.js"));
module.exports = __webpack_exports__;

})();